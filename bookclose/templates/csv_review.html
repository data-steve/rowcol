<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
</head>
<body>
    <div id="root" class="container mx-auto p-4"></div>
    <script>
        const CsvReview = () => {
            const [errors, setErrors] = React.useState([
                "Missing field: Vendor",
                "Missing field: Amount"
            ]);
            const [selectedFile, setSelectedFile] = React.useState(null);

            const handleFileSelect = (event) => {
                const file = event.target.files[0];
                setSelectedFile(file);
                if (file) {
                    // Simulate validation
                    setErrors([
                        "Missing field: Vendor",
                        "Missing field: Amount"
                    ]);
                }
            };

            const renderErrors = () => {
                return errors.map((error, index) => 
                    '<p class="text-red-600 text-sm mt-1">â€¢ ' + error + '</p>'
                ).join('');
            };

            const renderComponent = () => {
                const root = document.getElementById('root');
                root.innerHTML = `
                    <div class="flex space-x-4">
                        <div class="w-1/3 p-4 bg-blue-100 rounded">
                            <h3 class="font-bold mb-2">CSV List:</h3>
                            <p>Uploaded files will appear here</p>
                            ${selectedFile ? 
                                '<div class="mt-2 p-2 bg-white rounded">' +
                                    '<p><strong>File:</strong> ' + selectedFile.name + '</p>' +
                                    '<p><strong>Size:</strong> ' + (selectedFile.size / 1024).toFixed(1) + ' KB</p>' +
                                '</div>' : ''
                            }
                        </div>
                        <div class="w-1/3 p-4 bg-yellow-100 rounded">
                            <h3 class="font-bold mb-2">File Upload & Validation:</h3>
                            <input 
                                type="file" 
                                accept=".csv"
                                onchange="handleFileSelectChange(event)"
                                class="mb-3"
                            />
                            <div class="mt-3">
                                <h4 class="font-semibold">Errors:</h4>
                                <div id="errors-list">
                                    ${renderErrors()}
                                </div>
                            </div>
                        </div>
                        <div class="w-1/3 p-4 bg-green-100 rounded">
                            <h3 class="font-bold mb-2">Actions:</h3>
                            <button class="bg-blue-500 text-white px-4 py-2 rounded mr-2">
                                Fix Errors
                            </button>
                            <button class="bg-green-500 text-white px-4 py-2 rounded">
                                Process CSV
                            </button>
                        </div>
                    </div>
                `;
            };

            // Make handleFileSelect available globally for onchange
            window.handleFileSelectChange = handleFileSelect;

            // Initial render
            renderComponent();

            // Re-render when state changes
            React.useEffect(() => {
                renderComponent();
            }, [errors, selectedFile]);

            return null; // This component doesn't return JSX
        };

        ReactDOM.render(React.createElement(CsvReview), document.getElementById("root"));
    </script>
</body>
</html>
