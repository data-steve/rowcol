<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
</head>
<body>
    <div id="root" class="container mx-auto p-4"></div>
    <script>
        const CategorizationQueue = () => {
            const [suggestions, setSuggestions] = React.useState([
                { suggestion_id: 1, txn_id: "txn_001", account: "6000-Expenses", confidence: 0.85 },
                { suggestion_id: 2, txn_id: "txn_002", account: "7000-Revenue", confidence: 0.75 }
            ]);

            const handleAccept = (suggestionId) => {
                setSuggestions(suggestions.filter(s => s.suggestion_id !== suggestionId));
            };

            const renderSuggestions = () => {
                return suggestions.map(s => 
                    '<div class="mb-3 p-3 bg-white rounded border">' +
                        '<p><strong>Transaction:</strong> ' + s.txn_id + '</p>' +
                        '<p><strong>Account:</strong> ' + s.account + '</p>' +
                        '<p><strong>Confidence:</strong> ' + (s.confidence * 100).toFixed(1) + '%</p>' +
                        '<button class="bg-green-500 text-white px-3 py-1 rounded text-sm mt-2" onclick="handleAcceptClick(' + s.suggestion_id + ')">Accept</button>' +
                    '</div>'
                ).join('');
            };

            const renderComponent = () => {
                const root = document.getElementById('root');
                root.innerHTML = `
                    <div class="flex space-x-4">
                        <div class="w-1/3 p-4 bg-blue-100 rounded">
                            <h3 class="font-bold mb-2">Lanes: Auto-Post</h3>
                            <p class="text-sm text-gray-600">High confidence transactions</p>
                        </div>
                        <div class="w-1/3 p-4 bg-yellow-100 rounded">
                            <h3 class="font-bold mb-2">Review Queue:</h3>
                            <div id="suggestions-list">
                                ${renderSuggestions()}
                            </div>
                        </div>
                        <div class="w-1/3 p-4 bg-green-100 rounded">
                            <h3 class="font-bold mb-2">Actions</h3>
                            <p>Pending: ${suggestions.length}</p>
                            <p>Accepted: ${2 - suggestions.length}</p>
                        </div>
                    </div>
                `;
            };

            // Make handleAccept available globally for onclick
            window.handleAcceptClick = handleAccept;

            // Initial render
            renderComponent();

            // Re-render when state changes
            React.useEffect(() => {
                renderComponent();
            }, [suggestions]);

            return null; // This component doesn't return JSX
        };

        ReactDOM.render(React.createElement(CategorizationQueue), document.getElementById("root"));
    </script>
</body>
</html>
